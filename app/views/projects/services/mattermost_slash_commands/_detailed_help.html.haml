- run_actions_text = "Perform common operations on GitLab project: #{@project.name_with_namespace}"

%p To setup this service:
%ul.list-unstyled.indent-list
  %li
    1.
    = link_to 'https://docs.mattermost.com/developer/slash-commands.html#enabling-custom-commands', target: '_blank', rel: 'noreferrer noopener nofollow' do
      在Mattermost安装上启用自定义斜杠命令
      = icon('external-link')
  %li
    2.
    = link_to 'https://docs.mattermost.com/developer/slash-commands.html#set-up-a-custom-command', target: '_blank', rel: 'noreferrer noopener nofollow' do
      使用以下选项在Mattermost中添加一个斜杠命令
      = icon('external-link')
%hr

.help-form
  .form-group
    = label_tag :display_name, '显示名称', class: 'col-sm-2 col-xs-12 control-label'
    .col-sm-10.col-xs-12.input-group
      = text_field_tag :display_name, "GitLab / #{@project.name_with_namespace}", class: 'form-control input-sm', readonly: 'readonly'
      .input-group-btn
        = clipboard_button(clipboard_target: '#display_name')

  .form-group
    = label_tag :description, '描述', class: 'col-sm-2 col-xs-12 control-label'
    .col-sm-10.col-xs-12.input-group
      = text_field_tag :description, run_actions_text, class: 'form-control input-sm', readonly: 'readonly'
      .input-group-btn
        = clipboard_button(clipboard_target: '#description')

  .form-group
    = label_tag nil, '命令触发文字', class: 'col-sm-2 col-xs-12 control-label'
    .col-sm-10.col-xs-12.text-block
      %p 填写最适合您团队的词。
      %p
        建议：
        %code= 'gitlab'
        %code= @project.path # Path contains no spaces, but dashes
        %code= @project.path_with_namespace

  .form-group
    = label_tag :request_url, '请求 URL', class: 'col-sm-2 col-xs-12 control-label'
    .col-sm-10.col-xs-12.input-group
      = text_field_tag :request_url, service_trigger_url(subject), class: 'form-control input-sm', readonly: 'readonly'
      .input-group-btn
        = clipboard_button(clipboard_target: '#request_url')

  .form-group
    = label_tag nil, '请求方法', class: 'col-sm-2 col-xs-12 control-label'
    .col-sm-10.col-xs-12.text-block POST

  .form-group
    = label_tag :response_username, '响应用户名', class: 'col-sm-2 col-xs-12 control-label'
    .col-sm-10.col-xs-12.input-group
      = text_field_tag :response_username, 'GitLab', class: 'form-control input-sm', readonly: 'readonly'
      .input-group-btn
        = clipboard_button(clipboard_target: '#response_username')

  .form-group
    = label_tag :response_icon, '响应图标', class: 'col-sm-2 col-xs-12 control-label'
    .col-sm-10.col-xs-12.input-group
      = text_field_tag :response_icon, asset_url('gitlab_logo.png'), class: 'form-control input-sm', readonly: 'readonly'
      .input-group-btn
        = clipboard_button(clipboard_target: '#response_icon')

  .form-group
    = label_tag nil, '自动完成', class: 'col-sm-2 col-xs-12 control-label'
    .col-sm-10.col-xs-12.text-block Yes

  .form-group
    = label_tag :autocomplete_hint, '自动完成提示', class: 'col-sm-2 col-xs-12 control-label'
    .col-sm-10.col-xs-12.input-group
      = text_field_tag :autocomplete_hint, '[帮助]', class: 'form-control input-sm', readonly: 'readonly'
      .input-group-btn
        = clipboard_button(clipboard_target: '#autocomplete_hint')

  .form-group
    = label_tag :autocomplete_description, '自动完成说明', class: 'col-sm-2 col-xs-12 control-label'
    .col-sm-10.col-xs-12.input-group
      = text_field_tag :autocomplete_description, run_actions_text, class: 'form-control input-sm', readonly: 'readonly'
      .input-group-btn
        = clipboard_button(clipboard_target: '#autocomplete_description')

%hr

%ul.list-unstyled.indent-list
  %li
    3. 添加斜杠命令后，将
    %strong 令牌
    粘贴到下面的字段中
  %li
    4. 选择
    %strong 活动
    复选框， 点击
    %strong 保存更改
    并开始使用Mattermost中的GitLab！
